# ============================================
# DATABASE CONFIGURATION
# ============================================

# For local development (Docker):
DATABASE_URL=postgresql://hedera_user:hedera_dev_password@localhost:5432/hedera_flow

# For Supabase (Production/Staging):
# DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:5432/postgres
# For Supabase with connection pooling (recommended for production):
# DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:6543/postgres

POSTGRES_USER=hedera_user
POSTGRES_PASSWORD=hedera_dev_password
POSTGRES_DB=hedera_flow
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# SUPABASE CONFIGURATION (Optional)
# ============================================
# Get these from: Settings â†’ API in Supabase dashboard
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# REDIS CONFIGURATION
# ============================================

# For local development (Docker):
REDIS_URL=redis://:hedera_redis_password@localhost:6379/0

# For Upstash (Production/Staging):
# REDIS_URL=rediss://default:[PASSWORD]@[ENDPOINT]:6379

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=hedera_redis_password
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================
# JWT CONFIGURATION
# ============================================
JWT_SECRET_KEY=your-secret-key-change-in-production-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DAYS=30
JWT_REFRESH_EXPIRATION_DAYS=90

# ============================================
# HEDERA CONFIGURATION
# ============================================
HEDERA_NETWORK=testnet
HEDERA_OPERATOR_ID=0.0.xxxxx
HEDERA_OPERATOR_KEY=302e020100300506032b657004220420...
HEDERA_TREASURY_ID=0.0.xxxxx
HEDERA_TREASURY_KEY=302e020100300506032b657004220420...

# Mirror Node Configuration
HEDERA_MIRROR_NODE_URL=https://testnet.mirrornode.hedera.com

# Transaction Settings
HEDERA_MAX_TRANSACTION_FEE=100000000
HEDERA_MAX_QUERY_PAYMENT=100000000

# ============================================
# HCS TOPICS (Hedera Consensus Service)
# ============================================
HCS_TOPIC_EU=0.0.xxxxx
HCS_TOPIC_US=0.0.xxxxx
HCS_TOPIC_ASIA=0.0.xxxxx
HCS_TOPIC_SA=0.0.xxxxx
HCS_TOPIC_AFRICA=0.0.xxxxx

# HCS Submit Settings
HCS_MAX_CHUNK_SIZE=1024
HCS_SUBMIT_KEY=

# ============================================
# GOOGLE CLOUD VISION API
# ============================================
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_VISION_API_ENDPOINT=https://vision.googleapis.com

# ============================================
# IPFS CONFIGURATION (Pinata)
# ============================================
IPFS_API_URL=https://api.pinata.cloud
PINATA_API_KEY=your-pinata-api-key
PINATA_SECRET_KEY=your-pinata-secret-key
PINATA_JWT=your-pinata-jwt-token
IPFS_GATEWAY_URL=https://gateway.pinata.cloud

# ============================================
# EXCHANGE RATE APIS
# ============================================
# CoinGecko (Primary)
COINGECKO_API_KEY=your-coingecko-api-key
COINGECKO_API_URL=https://api.coingecko.com/api/v3

# CoinMarketCap (Fallback)
COINMARKETCAP_API_KEY=your-coinmarketcap-api-key
COINMARKETCAP_API_URL=https://pro-api.coinmarketcap.com/v1

# Exchange Rate Settings
EXCHANGE_RATE_CACHE_TTL=300
EXCHANGE_RATE_VOLATILITY_BUFFER=0.02

# ============================================
# EMAIL CONFIGURATION
# ============================================
# SendGrid (Primary)
SENDGRID_API_KEY=your-sendgrid-api-key
FROM_EMAIL=noreply@hederaflow.com
FROM_NAME=Hedera Flow

# Email Templates
SUPPORT_EMAIL=support@hederaflow.com
ADMIN_EMAIL=admin@hederaflow.com

# AWS SES (Alternative)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1

# ============================================
# APPLICATION SETTINGS
# ============================================
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO
API_VERSION=v1

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=True

# Security Settings
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
MAX_UPLOAD_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/jpg

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Session Settings
SESSION_COOKIE_NAME=hedera_flow_session
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=lax

# Password Hashing
BCRYPT_ROUNDS=12

# OCR Settings
OCR_CONFIDENCE_THRESHOLD=0.90
OCR_FALLBACK_ENABLED=True
OCR_MAX_RETRIES=3

# Fraud Detection
FRAUD_SCORE_THRESHOLD=0.70
FRAUD_DETECTION_ENABLED=True

# Billing Settings
MINIMUM_TRANSFER_EUR=5.00
MINIMUM_TRANSFER_USD=5.00
MINIMUM_TRANSFER_INR=50.00
MINIMUM_TRANSFER_BRL=10.00
MINIMUM_TRANSFER_NGN=2000.00

# Payment Settings
PAYMENT_RATE_LOCK_MINUTES=5
PAYMENT_CONFIRMATION_TIMEOUT=300

# Monitoring & Analytics
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Feature Flags
ENABLE_WALLET_AUTH=True
ENABLE_EMAIL_AUTH=True
ENABLE_DISPUTES=True
ENABLE_PREPAID_VERIFICATION=True
ENABLE_UTILITY_API_INTEGRATION=False
